<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Mastermind Game">
  <meta name="keywords" content="Mastermind">
  <meta name="theme-color" content="#000000">
  <title>Mastermind</title>
  <link rel="stylesheet" href="/src/style.css" />
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/icon.png">
  <link rel="manifest" href="/manifest.webmanifest">
  <script type="module" src="/src/main.ts"></script>
</head>

<body>
  <div id="app">
    <div id="header" class="header"><span>Mastermind</span></div>
    <section class="content">
      <section class="actions">
        <form>
          <div id="colorPins">
            <div class="colorPinRow">
              <div class="pin pinColor0 pinSel">
              </div>
              <div class="pin pinColor1 pinSel">
              </div>
            </div>
            <div class="colorPinRow">
              <div class="pin pinColor2 pinSel">
              </div>
              <div class="pin pinColor3 pinSel">
              </div>
            </div>
            <div class="colorPinRow">
              <div class="pin pinColor4 pinSel">
              </div>
              <div class="pin pinColor5 pinSel">
              </div>
            </div>
          </div>
          <div id="undo" class="button ">Undo</div>
          <div id="check" class="button">Check</div>
          <div id="newGame" class="button">New Game</div>
        </form>
      </section>

      <section id="board" class="board">
        <div class="goal">
          <div id="goalPins" class="goalPins hidden">
            <div class="pinSet"> </div>
            <div class="pinSet"> </div>
            <div class="pinSet"> </div>
            <div class="pinSet"> </div>
          </div>
        </div>
        <div id="gameRound1" class="gameRound">
          <div class="round">1</div>
          <div class="pinsSet">
            <div class="pinSet"> </div>
            <div class="pinSet"> </div>
            <div class="pinSet"> </div>
            <div class="pinSet"> </div>
          </div>
          <div class="pinsResult">
            <div class="pinsResultRow">
              <div class="pinResult"> </div>
              <div class="pinResult"> </div>
            </div>
            <div class="pinsResultRow">
              <div class="pinResult"> </div>
              <div class="pinResult"> </div>
            </div>
          </div>
        </div>
      </section>
    </section>

    <div id="won" class="hidden bar">You won</div>
    <div id="lost" class="hidden bar ">You lost</div>
  </div>
  <!-- Simple offline message when not connected -->
  <div id="offline-message"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; background-color: #ffaa00; color: black; padding: 10px; text-align: center; z-index: 1000;">
    You are currently offline. Some features may be limited.
  </div>
  <script>
    // Check if the browser supports service workers
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('Service Worker registered:', reg))
          .catch(err => console.error('Service Worker registration failed:', err));
      });

      // Display offline message when disconnected
      window.addEventListener('online', () => {
        document.getElementById('offline-message').style.display = 'none';
      });
      window.addEventListener('offline', () => {
        document.getElementById('offline-message').style.display = 'block';
      });
    }
  </script>
</body>

</html>