(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const B=6,g=4,P=12;function N(e,t){let n={colors:[]};for(let i=0;i<e;i++)n.colors.push(O(t));return console.log(n),n}function O(e){return Math.floor(Math.random()*e)}function A(e,t){let n=R(e,t);return n.result.won===!1&&S(n),n.result}function R(e,t){let n={goal:[],set:[],result:{rightColorAndPos:0,rightColorOnly:0,won:!1}},i={color:0,checkDone:!1},o={color:0,checkDone:!1};return e.colors.forEach((s,c)=>{i.color=s,o.color=t[c],i.color===o.color?(i.checkDone=!0,o.checkDone=!0,n.result.rightColorAndPos++):(i.checkDone=!1,o.checkDone=!1),n.goal.push({color:i.color,checkDone:i.checkDone}),n.set.push({color:o.color,checkDone:o.checkDone})}),n.result.rightColorAndPos===e.colors.length&&(n.result.won=!0),n}function S(e){let t=!1;return e.goal.forEach(n=>{n.checkDone===!1&&(t=!1,e.set.forEach(i=>{i.checkDone===!1&&t===!1&&n.color===i.color&&(e.result.rightColorOnly++,n.checkDone=!0,i.checkDone=!0,t=!0)}))}),e}let d=0,l=0,a=[],r=0;function b(e){const t=document.getElementById("goalPins");let n=t==null?void 0:t.getElementsByClassName("pinSet");e.colors.forEach((i,o)=>{var c;let s="pinColor"+JSON.stringify(i);(c=n==null?void 0:n.item(o))==null||c.classList.add(s)})}function D(){var t;let e=document.getElementsByClassName("pinSel");for(let n=0;n<e.length;n++)(t=e.item(n))==null||t.addEventListener("click",()=>{M(e.item(n))})}function J(){let e=document.getElementById("undo");e==null||e.addEventListener("click",()=>{K()})}function G(){let e=document.getElementById("check");e==null||e.addEventListener("click",async()=>{await Q()})}function T(e){const t=document.getElementById("gameRound1"),n=document.getElementById("board");for(let i=2;i<=e;i++){let o=t==null?void 0:t.cloneNode(!0);o.id="gameRound"+JSON.stringify(i);let s=o.getElementsByClassName("round");for(let c=0;c<s.length;c++)s.item(c).innerHTML=JSON.stringify(i);n==null||n.appendChild(o)}}async function M(e){await U()===!0&&await H(e)}async function L(){await v(),await f(),await h(),d++,l=0,a=[],r=0}async function w(e){const t=document.getElementById(e);return(t==null?void 0:t.classList.contains("disabled"))!==!0}async function C(e){let t=document.getElementById(e);t==null||t.classList.remove("disabled")}async function E(e){let t=document.getElementById(e);(t==null?void 0:t.classList.contains("disabled"))!==!0&&(t==null||t.classList.add("disabled"))}async function U(){return await w("colorPins")}async function v(){await C("colorPins")}async function y(){await E("colorPins")}async function x(){await C("undo")}async function f(){await E("undo")}async function W(){return await w("undo")}async function q(){await C("check")}async function h(){await E("check")}async function F(){return await w("check")}async function H(e){l++,r=V(e),a.push(r),j(),await x(),l===g&&(await y(),await q())}async function K(){await W()&&(z(),l--,a.pop(),a.length>0?r=a[a.length-1]:r=0),l===0&&await f(),l===g-1&&(await v(),await h())}function V(e){let t="",n,i;return e.classList.forEach(o=>{o.startsWith("pinColor")&&(t=o)}),n=t.split("pinColor").pop(),i=parseInt(n),i}function j(){var o;let e="gameRound"+JSON.stringify(d),t=document.getElementById(e),n=t==null?void 0:t.getElementsByClassName("pinSet"),i="pinColor"+JSON.stringify(r);(o=n==null?void 0:n.item(l-1))==null||o.classList.add(i)}function z(){var o;let e="gameRound"+JSON.stringify(d),t=document.getElementById(e),n=t==null?void 0:t.getElementsByClassName("pinSet"),i="pinColor"+JSON.stringify(r);(o=n==null?void 0:n.item(l-1))==null||o.classList.remove(i)}async function Q(){let e;await F()&&(e=A(et(),a),X(e),e.won===!0?(await h(),await f(),await y(),await k(),await Z()):d<P?await L():(await h(),await f(),await y(),await k(),await Y()))}async function X(e){var s,c;let t="gameRound"+JSON.stringify(d),n=document.getElementById(t),i=n==null?void 0:n.getElementsByClassName("pinResult"),o=-1;if(e.rightColorAndPos>0)for(let u=1;u<=e.rightColorAndPos;u++)o++,(s=i==null?void 0:i.item(o))==null||s.classList.add("pinColorRightColorAndPos");if(e.rightColorOnly>0)for(let u=1;u<=e.rightColorOnly;u++)o++,(c=i==null?void 0:i.item(o))==null||c.classList.add("pinColorRightColorOnly")}async function p(e){let t=document.getElementById(e);t==null||t.classList.remove("hidden")}async function Y(){await p("lost"),setTimeout(()=>{_()},5e3)}async function Z(){await p("won"),setTimeout(()=>{$()},5e3)}async function k(){await p("goalPins")}async function I(e){let t=document.getElementById(e);(t==null?void 0:t.classList.contains("hidden"))!==!0&&(t==null||t.classList.add("hidden"))}async function _(){await I("lost")}async function $(){await I("won")}let m;window.addEventListener("load",()=>{tt()});function tt(){D(),J(),G(),T(P),m=N(g,B),b(m),L()}function et(){return m}
